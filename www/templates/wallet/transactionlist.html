<ion-view>
  <ion-nav-buttons side="left">
    <button class="button button-clear icon ion-ios-arrow-left" nav-direction=back ng-click="$ionicGoBack()"></button>
  </ion-nav-buttons>
  </ion-nav-buttons>
  <ion-nav-title>
    <h1 class="title"><img id="logo" src="img/logo.png" alt=""/> 交易记录</h1>
  </ion-nav-title>
  <ion-content overflow-scroll="false" class="stable-bg" has-bouncing="true">
    <ion-refresher on-refresh="gettradelist(0)" pulling-text="下拉更新"></ion-refresher>
    <div ng-if="isNotData" class="isNotDataHint">
      <i class="iconfont icon-xiaoxi"></i>
      <p>无交易数据</p>
    </div>
    <div class=" content">
      <ion-item collection-repeat="item in tradelist " class="item"
                nav-direction=forward>
        <div class="row row-no-padding" style="height: 25px; ">
          <h2 class="col-30 text-left" style="{{item.flag==0?'color:#0938F7;font-size: 16px; font-weight: bold':'color:red;font-size: 16px; font-weight: bold'}}">
            {{item.flag==1?"-"+(item.amount | currency :''):(item.amount | currency :'')}}</h2>
          <span class="col-30" ng-class="getColor(item.state_str)">{{item.state_str}}</span>
          <p  class="col-40 text-right" class="f-right"><span ng-bind-html="item.channel_str"></span></p>
        </div>

        <span class="col">余额：<span class="text-left">{{item.preamount | currency :''}}</span>
          <span class="item-note icon icon-left">{{item.createtime  | date : 'yyyy-MM-dd'}}</span>
        </span>
      </ion-item>
    </div>
    <p class="text-center" ng-if="total > page">
      <i class="icon ion-information-circled grey">上滑加载更多</i>
    </p>
    <ion-infinite-scroll on-infinite="gettradelist()" ng-if="total > page"
                         immediate-check="false"></ion-infinite-scroll>
    </ion-scroll>
  </ion-content>


</ion-view>
