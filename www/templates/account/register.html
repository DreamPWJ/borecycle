<ion-view>
  <ion-nav-buttons side="left">
    <button class="button button-clear icon ion-ios-arrow-left" nav-direction=back ui-sref="tab.main"></button>
  </ion-nav-buttons>
  <ion-nav-title>
    <h1 class="title "><img id="logo" src="img/logo.png" alt=""/> 注册</h1>
  </ion-nav-title>
  <ion-nav-buttons side="right">
    <a class="button button-clear" ng-href="#/mobilelogin"
       nav-direction=forward>登录</a>
  </ion-nav-buttons>

  <ion-content overflow-scroll="false" class="stable-bg" id="register" has-bouncing="true">
    <form name="registerForm">
      <ion-list>
        <label class="item item-input">
          <span class="input-label icon ion-ios-person-outline"> 账号</span>
          <input type="number" name="username" ng-model="user.account" placeholder="请输入手机号码"
                 ng-keyup="checkphoneandemail(user.account)" ng-blur="checkphoneandemail(user.account)"  maxlength="11" required/>
        </label>

        <label class="item item-input">
          <span class="input-label icon ion-ios-locked-outline "> 设置密码</span>
          <input type="password" ng-model="user.password" check-form
                 ng-blur="checkForm(user.password,'请输入6~18位字母、数字和特殊符号','regular','/^[a-zA-Z0-9]{6,18}$/')"
                 placeholder="请输入6~18位字母、数字和特殊符号" required/>
        </label>

        <label class="item item-input">
          <span class="input-label icon ion-ios-locked-outline "> 确认密码</span>
          <input type="password" ng-model="user.confirmpassword" check-form
                 ng-blur="checkForm(user.confirmpassword,'请输入6~18位字母、数字和特殊符号','regular','/^[a-zA-Z0-9]{6,18}$/')"
                 placeholder="请确保和上面密码一致" required/>
        </label>
        <div class="item item-input">
          <span class="input-label icon ion-ios-unlocked-outline"> 验证码 </span>
          <span class="row row-no-padding">
          <input type="number" class="col-55" placeholder="请输入验证码" ng-model="user.code" required/>
            <button class="button button-small button-positive  col-33 " ng-disabled="!paraclass"
                    ng-click="getVerifyCode()">{{paracont}}</button>
          </span>
        </div>
        <label class="item item-input">
          <span class="input-label icon ion-ios-unlocked-outline"> 邀请码</span>
          <input type="text" ng-model="user.invitecode" check-form
                 placeholder="请输入邀请码" required maxlength="6"/>
        </label>
        <ion-item class="border-bottom light-bg usertype row item item-input">
          <span class="input-label border-left">用户类型 </span>
          <div>
          <label ng-click="user.usertype=1" for="xinxi">
            <input type="checkbox" id="xinxi" ng-checked="user.usertype==1">
            <span>信息提供者</span>
          </label>
          <label ng-click="user.usertype=2" for="huishou">
            <input type="checkbox" id="huishou" ng-checked="user.usertype==2">
            <span>回收商</span>
          </label>
          </div>
        </ion-item>
        <div class=" services padding light-bg  text-wrap" ng-if="user.usertype==2">
          <ion-checkbox class="item-borderless checkbox-positive " ng-click="checkChecded()"
                        ng-repeat="item in services" ng-model="item.checked">
            {{item.value}}
          </ion-checkbox>
        </div>

        <p class="text-right padding-top padding-horizontal">
          <a class="positive  icon ion-ios-help-outline"
             ng-href="#/help/25"
             nav-direction=forward> 什么是用户类型</a></p>

        <ion-checkbox class=" stable-bg item-borderless  checkbox-positive" ng-model="agreedeal" ng-checked="true">
          同意注册协议
        </ion-checkbox>
        <div class="padding-horizontal">
          <button class="button full-image button-positive " ng-click="register()"
                  ng-disabled="!(registerForm.$valid&&agreedeal&&verify&&(user.usertype==1?true:ischecked))">注册
          </button>
          <p></p>
          <a ng-href="#/mobilelogin" class="button full-image button-energized button-outline energized ">已有账号 立即登录</a>
        </div>

      </ion-list>
    </form>
    <p class="padding-top"></p>
  </ion-content>
</ion-view>

